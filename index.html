<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Darren Gan Portfolio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Darker+Grotesque:wght@300..900&display=swap" rel="stylesheet">
  <link rel ="stylesheet" href="styles.css">
</head>
<body>
  <div class="main-container">
  <header>
    <div class="logo"><img src="images/cat.png" alt="Logo" style="height: 1.5rem; vertical-align: middle; margin-right: 0.5rem;"> rendayo</div>
    <nav>
      <a href="game-projects.html">game projects</a>
      <a href="model-showcase.html">model showcase</a>
      <a href="about-me.html">about me</a>
    </nav>
 <div class="socials">
  <a href="https://www.linkedin.com/in/darrengan1609/" target="_blank" aria-label="LinkedIn">
    <img src="images/icons/IClinkedin.png" alt="LinkedIn">
  </a>

  <a href="https://github.com/darrengan1609" target="_blank" aria-label="GitHub">
    <img src="images/icons/ICgithub.png" alt="GitHub">
  </a>

  <a href="mailto:darrengan1609@gmail.com" aria-label="Email">
    <img src="images/icons/ICemail.png" alt="Email">
  </a>

  <a href="https://sketchfab.com/renren1609" target="_blank" aria-label="Sketchfab">
    <img src="images/icons/ICsketchfab.png" alt="Sketchfab">
  </a>

  <a href="https://darrengan1609.itch.io/" target="_blank" aria-label="Itch.io">
    <img src="images/icons/ICitchio.png" alt="Itchio">
  </a>
</div>

  </header>

  <main>
    <section class="intro">
      <div class="outline-art">
        <img src="images/renoutline.png" alt="Profile" class="profile-art">
      </div>
      <div class="intro-text">
        <h1> DARREN GAN</h1>
        <h2>APU STUDENT | 3D ARTIST | GAME DEVELOPER</h2>
        <p>
          Hello, I am Ren, a game dev student specializing in 3D modelling. Currently learning rigging and animation, and expanding into other forms of art.
          <br>So come along with me on this journey to make cool stuff! (≧▽≦)
        </p>
      </div>
    </section>

    <section class="showcases sketchfab-showcases">
      <h3>3D MODELLING SHOWCASE</h3>
      <div class="sketchfab-carousel" aria-roledescription="carousel">
  <button class="carousel-btn prev" aria-label="Previous model">‹</button>

  <div class="carousel-viewport">
    <div class="carousel-track">

      <!-- SLIDE 1 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/low_poly_mantis_insect.png" alt="Low Poly Mantis Insect" data-model="ce84951c212444bbb77c0f8ef2353b25">
        </div>
        <div class="carousel-slide-text">
          <h4>Cyber Mantis</h4>
          <p>Low poly mantis insect fused with cyber elements.</p>
        </div>
      </div>

      <!-- SLIDE 2 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/barbarian.png" alt="Barbarian Warrior" data-model="75f9513a5f39402c89b6a0c9a121e69d">
        </div>
        <div class="carousel-slide-text">
          <h4>Burken of the wild/h4>
          <p>Semi realism fierce barbarian warrior whom rules the wildlands.</p>
        </div>
      </div>

      <!-- SLIDE 3 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/goat_demon_character.png" alt="Goat Demon" data-model="e9ff7ca88c3a46c3a2851e0157480975">
        </div>
        <div class="carousel-slide-text">
          <h4>Goat Demon</h4>
          <p>Semi realism goat demon summoned forth by a cult.</p>
        </div>
      </div>

      <!-- SLIDE 4 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/low_poly_hybrid_insect.png" alt="Low Poly Hybrid Insect" data-model="8eb6d092fa9b462d9c0609e256799cf5">
        </div>
        <div class="carousel-slide-text">
          <h4>Hybrid Insect</h4>
          <p>Low poly scout insect fused with cyber elements.</p>
        </div>
      </div>

      <!-- SLIDE 5 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/cyber_magic_girl.png" alt="Cyber Magic Girl" data-model="a9aef29b1b904e23b02abb00d02e761d">
        </div>
        <div class="carousel-slide-text">
          <h4>Cyber Magic Girl</h4>
          <p>Low poly fusion of cyberpunk and magical girl.</p>
        </div>
      </div>

      <!-- SLIDE 6 -->
      <div class="carousel-slide">
        <div class="carousel-slide-image">
          <img src="images/sketchfab/myvi_replica_car.png" alt="Myvi Replica Car" data-model="1eb2499f95e7472aba4f57cc9641ad23">
        </div>
        <div class="carousel-slide-text">
          <h4>Myvi Replica Car</h4>
          <p>Low poly replica of Myvi car model.</p>
        </div>
      </div>

    </div>
  </div>

  <button class="carousel-btn next" aria-label="Next model">›</button>
  <div class="carousel-dots" role="tablist"></div>
</div>

      <a class="see-more" href="model-showcase.html">see more ➤</a>
    </section>

    <section class="projects">
      <h3>INVOLVED PROJECTS</h3>
      <div class="projects-carousel">
        <button class="carousel-btn prev" aria-label="Previous project">‹</button>
        <div class="projects-viewport">
          <div class="projects-track">
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/ass.png" alt="Assimilation screenshot">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/bam.png" alt="Too Hot For Bam screenshot">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/fins.png" alt="Lost Fins screenshot">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/sugar.png" alt="Sugar Slasher screenshot">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/ass.png" alt="Placeholder Project 1">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/fins.png" alt="Placeholder Project 2">
            </a>
            <a class="project-link" href="game-projects.html">
              <img src="images/itchio/sugar.png" alt="Placeholder Project 3">
            </a>
          </div>
        </div>
        <button class="carousel-btn next" aria-label="Next project">›</button>
      </div>
      <a class="see-more" href="game-projects.html">see more ➤</a>
    </section>
  </main>
  </main>
  </div>
  <script>
    // Carousel behavior: prev/next, dots, auto-swipe (5s), pause on hover/focus, click opens model
    document.addEventListener('DOMContentLoaded', function () {
      const carousel = document.querySelector('.sketchfab-carousel');
      if (!carousel) return;
      const track = carousel.querySelector('.carousel-track');
      const slides = Array.from(carousel.querySelectorAll('.carousel-slide'));
      const prevBtn = carousel.querySelector('.carousel-btn.prev');
      const nextBtn = carousel.querySelector('.carousel-btn.next');
      const dotsContainer = carousel.querySelector('.carousel-dots');
      let current = 0;
      let intervalId = null;
      const AUTO_DELAY = 5000;

      // build dots
      slides.forEach((_, i) => {
        const d = document.createElement('button');
        d.className = 'carousel-dot';
        d.setAttribute('aria-label', `Go to slide ${i + 1}`);
        d.addEventListener('click', () => goTo(i));
        dotsContainer.appendChild(d);
      });

      function update() {
        track.style.transform = `translateX(-${current * 100}%)`;
        Array.from(dotsContainer.children).forEach((d, i) => d.classList.toggle('active', i === current));
      }

      function goTo(index) {
        current = (index + slides.length) % slides.length;
        update();
        resetAuto();
      }

      function next() { goTo(current + 1); }
      function prev() { goTo(current - 1); }

      prevBtn.addEventListener('click', prev);
      nextBtn.addEventListener('click', next);

      // clicking a placeholder opens the Sketchfab model page in a new tab
      carousel.querySelectorAll('.sketchfab-placeholder').forEach(ph => {
        ph.addEventListener('click', () => {
          const url = ph.dataset.url || (ph.dataset.model ? `https://sketchfab.com/models/${ph.dataset.model}` : null);
          if (url) window.open(url, '_blank');
        });
      });

      // autoplay controls
      function startAuto() {
        if (intervalId) return;
        intervalId = setInterval(next, AUTO_DELAY);
      }
      function stopAuto() { if (!intervalId) return; clearInterval(intervalId); intervalId = null; }
      function resetAuto() { stopAuto(); startAuto(); }

      carousel.addEventListener('mouseenter', stopAuto);
      carousel.addEventListener('mouseleave', startAuto);
      carousel.addEventListener('focusin', stopAuto);
      carousel.addEventListener('focusout', startAuto);

      // keyboard navigation
      carousel.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prev();
        if (e.key === 'ArrowRight') next();
      });

      // init
      update();
      startAuto();
    });

    // Projects carousel: arrow button navigation
    document.addEventListener('DOMContentLoaded', function () {
      const carousel = document.querySelector('.projects-carousel');
      if (!carousel) return;
      const track = carousel.querySelector('.projects-track');
      const prevBtn = carousel.querySelector('.carousel-btn.prev');
      const nextBtn = carousel.querySelector('.carousel-btn.next');
      const links = Array.from(carousel.querySelectorAll('.project-link'));
      let current = 0;

      function getVisibleCount() {
        const width = window.innerWidth;
        if (width <= 700) return 2; // 43.75rem = 700px
        if (width <= 900) return 3; // 56.25rem = 900px
        return 4; // desktop shows 4 at 25% each
      }

      function updatePosition() {
        if (links.length === 0) return;
        const firstLink = links[0];
        const linkWidth = firstLink.offsetWidth;
        // Get actual computed gap from the track element
        const computedStyle = window.getComputedStyle(track);
        const gap = parseFloat(computedStyle.gap) || 0;
        const offset = -current * (linkWidth + gap);
        track.style.transform = `translateX(${offset}px)`;
      }

      function goTo(index) {
        const visibleCount = getVisibleCount();
        const maxIndex = Math.max(0, links.length - visibleCount);
        current = Math.max(0, Math.min(index, maxIndex));
        updatePosition();
      }

      prevBtn.addEventListener('click', () => goTo(current - 1));
      nextBtn.addEventListener('click', () => goTo(current + 1));

      // Update position on window resize
      let resizeTimeout;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(() => {
          goTo(current); // recalculate with new screen size
        }, 100);
      });

      updatePosition();
    });
  </script>
</body>
</html>
